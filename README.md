# Приложение для импорта и парсинга Excel файлов

## Это приложение предназначено для обработки импорта и парсинга Excel файлов в базу данных, с дополнительными функциями, такими как базовая аутентификация, парсинг на основе задач (jobs) и отчеты об ошибках. 
## Проект написан на Laravel, используемые библиотеки: phpoffice/phpspreadsheet и maatwebsite/excel.

# Функциональность
## Загрузка Excel файлов: Загрузка Excel файлов с валидацией.

## Базовая аутентификация: Защита доступа к контроллеру загрузки с использованием Basic Auth.

## Парсинг на основе задач (jobs): Парсинг Excel файлов по частям с использованием Laravel Jobs.

## Валидация данных: Валидация данных из Excel перед вставкой в базу данных.

## Отчеты об ошибках: Генерация текстового файла с сообщениями об ошибках для невалидных строк и дубликатов ID.

### Отслеживание прогресса в Redis: (Не реализовано) Отслеживание прогресса парсинга файла с использованием Redis.

### Реальное время обновлений: (Не реализовано) Отправка обновлений в реальном времени с использованием Laravel Echo.

### Модульные тесты: (Не реализовано) Написание модульных тестов для приложения.

# Установка
## Клонирование репозитория:

```bash
git clone https://github.com/yourusername/excel-import-app.git
cd excel-import-app
```

## Установка зависимостей:

```bash
composer install
```

## Настройка окружения:

Скопируйте файл .env.example в .env:

## Сгенерируйте ключ приложения:

```bash
php artisan key:generate
```

## Настройте параметры базы данных и Redis в файле .env.

## Запуск миграций:

```bash
php artisan migrate
```

## Запуск сервера разработки:

```bash
php artisan serve
```

# Использование
## Создание пользователя
Для создания пользователя для Basic Authentication используйте следующую Artisan команду:

```bash
php artisan user:create "Test" "test@example.com" "password"
```

# Загрузка Excel файла
Аутентификация: Используйте Basic Authentication для доступа к конечной точке загрузки.

## Загрузка файла: Отправьте POST запрос на /upload-excel с Excel файлом в поле file.

## Просмотр импортированных данных
Для просмотра импортированных данных отправьте GET запрос на /rows. Данные будут сгруппированы по полю *date*.

Пример использования curl:

# Дополнительные функции
## Отслеживание прогресса в Redis
### Не реализовано: Эта функция будет отслеживать прогресс парсинга файла с использованием Redis. Каждая задача будет обновлять ключ Redis с количеством обработанных строк.

## Реальное время обновлений
### Не реализовано: Эта функция будет отправлять обновления в реальном времени с использованием Laravel Echo при вставке новой строки в базу данных.

## Модульные тесты
### Не реализовано: Напишите модульные тесты, чтобы обеспечить надежность и стабильность функциональности приложения.

# Лицензия
## Этот проект является открытым исходным кодом и доступен под лицензией MIT.
